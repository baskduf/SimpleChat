<html lang="en">
    <link rel="stylesheet" href="/static/login.css">
    <link rel="stylesheet" href="/static/slide.css">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css">
        <!-- Font online-->
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
      
<!--        Animate.css-->
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
                
                                
        
        <!-- Google JQuery CDN -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="/static/slide.js"></script>
        <script src="/static/login.js"></script>
        <script>
        // 버튼 클릭 시 실행되는 스크립트
        function redirectToActiveRoom() {
            var activeRoom = document.querySelector('.room.active');
            if (activeRoom) {
                var roomId = activeRoom.getAttribute('data-room-id');
                window.location.href = `/room/join/${roomId}`;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            var button = document.getElementById('redirect-button');
            if (button) {
                button.addEventListener('click', redirectToActiveRoom);
            }
        });
    </script>
    </head>
    <body>
        <div>
           <div class="panel shadow1">
           <form id="login-form" class="login-form" method="post">

            <h1 class="animated fadeInUp animate1" id="title-signup">Welcome ! {{ request.user.username }}</h1>
               <div class="slider-2">

                <div class="side-btns">
                   <div><span><i class="fas fa-caret-left"></i></span></div>
                   <div><span><i class="fas fa-caret-right"></i></span></div>
               </div>

               <div class="slides">
                   {% for room in rooms %}
                        <div class="room{% if forloop.first %} active{% endif %}" data-room-id="{{ room.room_id }}">
                            <h3 style="padding-top: 50px">{{ room.room_name }}</h3>
                        </div>
                    {% endfor %}
               </div>

               <div class="page-nav">
                   {% for room in rooms %}
                        <div class="{% if forloop.first %} active{% endif %}" data-room-id="{{ room.room_id }}">
                        </div>
                    {% endfor %}
               </div>
               <a id="redirect-button">
                    <input type="submit" id="login-form-submit" class="main_form button" value="Join" style="margin-top: 450px;">
                </a>
           </div>
           </form>
            </div>
        </div>
        
    </body>
</html>